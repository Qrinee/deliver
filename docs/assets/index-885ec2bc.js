import{j as e,S as C,F as p,r as m,R as v,a as N,T as y,b as I,I as T,c as B,B as S,M as k,P as _,D as j,d as P,e as z,C as V,f as E,g as A,h as G,G as H,m as D,i as L}from"./vendor-0b772f37.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const t of l)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const t={};return l.integrity&&(t.integrity=l.integrity),l.referrerpolicy&&(t.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?t.credentials="include":l.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(l){if(l.ep)return;l.ep=!0;const t=s(l);fetch(l.href,t)}})();function Y(a,r){return Array.from(new Set(a.filter(s=>s.availableMeals.includes(r)).map(s=>s.restaurant)))}function q(a,r,s){return a.filter(n=>n.availableMeals.includes(r)).filter(n=>n.restaurant===s).map(n=>n.name)}function R(a=-8){return Math.random().toString(36).slice(a)}const w=[{id:1,name:"Chicken Burger",restaurant:"Mc Donalds",availableMeals:["lunch","dinner"]},{id:2,name:"Ham Burger",restaurant:"Mc Donalds",availableMeals:["lunch","dinner"]},{id:3,name:"Cheese Burger",restaurant:"Mc Donalds",availableMeals:["lunch","dinner"]},{id:4,name:"Fries",restaurant:"Mc Donalds",availableMeals:["lunch","dinner"]},{id:5,name:"Egg Muffin",restaurant:"Mc Donalds",availableMeals:["breakfast"]},{id:6,name:"Burrito",restaurant:"Taco Bell",availableMeals:["lunch","dinner"]},{id:7,name:"Tacos",restaurant:"Taco Bell",availableMeals:["lunch","dinner"]},{id:8,name:"Quesadilla",restaurant:"Taco Bell",availableMeals:["lunch","dinner"]},{id:9,name:"Steak",restaurant:"BBQ Hut",availableMeals:["dinner"]},{id:10,name:"Yakitori",restaurant:"BBQ Hut",availableMeals:["dinner"]},{id:11,name:"Nankotsu",restaurant:"BBQ Hut",availableMeals:["dinner"]},{id:12,name:"Piman",restaurant:"BBQ Hut",availableMeals:["dinner"]},{id:13,name:"Vegan Bento",restaurant:"Vege Deli",availableMeals:["lunch"]},{id:14,name:"Coleslaw Sandwich",restaurant:"Vege Deli",availableMeals:["breakfast"]},{id:15,name:"Grilled Sandwich",restaurant:"Vege Deli",availableMeals:["breakfast"]},{id:16,name:"Veg. Salad",restaurant:"Vege Deli",availableMeals:["lunch","dinner"]},{id:17,name:"Fruit Salad",restaurant:"Vege Deli",availableMeals:["lunch","dinner"]},{id:18,name:"Corn Soup",restaurant:"Vege Deli",availableMeals:["lunch","dinner"]},{id:19,name:"Tomato Soup",restaurant:"Vege Deli",availableMeals:["lunch","dinner"]},{id:20,name:"Minestrone Soup",restaurant:"Vege Deli",availableMeals:["lunch","dinner"]},{id:21,name:"Pepperoni Pizza 1",restaurant:"Pizzeria",availableMeals:["lunch","dinner"]},{id:22,name:"Pepperoni Pizza 2",restaurant:"Pizzeria",availableMeals:["lunch","dinner"]},{id:23,name:"Hawaiian Pizza",restaurant:"Pizzeria",availableMeals:["lunch","dinner"]},{id:24,name:"Seafood Pizza",restaurant:"Pizzeria",availableMeals:["lunch","dinner"]},{id:25,name:"Deep Dish Pizza",restaurant:"Pizzeria",availableMeals:["dinner"]},{id:26,name:"Chow Mein",restaurant:"Panda Express",availableMeals:["lunch","dinner"]},{id:27,name:"Mapo Tofu",restaurant:"Panda Express",availableMeals:["lunch","dinner"]},{id:28,name:"Kung Pao",restaurant:"Panda Express",availableMeals:["lunch","dinner"]},{id:29,name:"Wontons",restaurant:"Panda Express",availableMeals:["lunch","dinner"]},{id:30,name:"Garlic Bread",restaurant:"Olive Garden",availableMeals:["breakfast","lunch","dinner"]},{id:31,name:"Ravioli",restaurant:"Olive Garden",availableMeals:["lunch","dinner"]},{id:32,name:"Rigatoni Spaghetti",restaurant:"Olive Garden",availableMeals:["lunch","dinner"]},{id:33,name:"Fettucine Pasta",restaurant:"Olive Garden",availableMeals:["lunch","dinner"]}],K="/react_assignment/assets/select-meal-img-ba12f074.jpg",Q="/react_assignment/assets/home-bg-mobile-31e035a1.png";function W(a){const{currentProgress:r,orderForm:s,setOrderForm:n,tourRef1:l,tourRef2:t}=a,i=[{title:"Select Meal",component:e.jsx(U,{orderForm:s,setOrderForm:n})},{title:"Select Restaurant",component:e.jsx($,{orderForm:s,setOrderForm:n})},{title:"Order Details",component:e.jsx(J,{orderForm:s,setOrderForm:n})},{title:"Confirm Order",component:e.jsx(X,{orderForm:s,setOrderForm:n})}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:l,children:e.jsx(C,{current:r,items:i,className:"step-progress"})}),e.jsx("div",{ref:t,className:"step-component",children:i[r].component})]})}function U(a){const{orderForm:r,setOrderForm:s}=a,[n]=p.useForm(),l=(t,i)=>{s(d=>({...d,...i})),Reflect.has(t,"meal")&&s(d=>({...d,restaurant:""}))};return m.useEffect(()=>{n.setFieldValue("meal",r.meal),n.setFieldValue("number",r.number)},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-meal",children:[e.jsx("img",{src:K,alt:"select meal img"}),e.jsxs(p,{form:n,initialValues:{meal:"lunch",number:1},labelCol:{span:24},wrapperCol:{span:24},className:"select-meal-form",layout:"vertical",name:"selectMealForm",onValuesChange:l,children:[e.jsx(p.Item,{name:"meal",label:"Please Select A Meal",required:!0,children:e.jsxs(v.Group,{children:[e.jsx(v.Button,{value:"breakfast",children:"Breakfast"}),e.jsx(v.Button,{value:"lunch",children:"Lunch"}),e.jsx(v.Button,{value:"dinner",children:"Dinner"})]})}),e.jsx(p.Item,{name:"number",label:"Please Select Number of People",tooltip:"Up to 10 people",required:!0,children:e.jsx(v.Group,{children:Array.from({length:10},(t,i)=>i+1).map(t=>e.jsx(v.Button,{value:t,children:t},t))})})]})]})})}function $(a){const{orderForm:r,setOrderForm:s}=a,[n]=p.useForm(),[l,t]=m.useState([]),i=(d,b)=>{s(x=>({...x,...b}))};return m.useEffect(()=>{n.setFieldValue("restaurant",r.restaurant||null),t(Y(w,r.meal).map(d=>({value:d,label:d})))},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-res",children:[e.jsx(p,{form:n,labelCol:{span:24},wrapperCol:{span:24},className:"select-res-form",layout:"vertical",name:"selectResForm",onValuesChange:i,children:e.jsx(p.Item,{name:"restaurant",label:"Please Select A Restaurant",required:!0,children:e.jsx(N,{showSearch:!0,allowClear:!0,placeholder:"Select A Restaurant",style:{width:320},options:l})})}),e.jsx("img",{src:Q,alt:"select restaurant img"})]})})}function J(a){const{orderForm:r,setOrderForm:s}=a,[n,l]=m.useState([]),[t,i]=m.useState([]),[d]=p.useForm(),b=()=>{s(u=>({...u,dishes:[...u.dishes,{dish:"",number:1}]})),d.setFieldsValue({["dish_"+r.dishes.length]:null,["number_"+r.dishes.length]:1})},x=(u,h)=>{if(r.dishes.length===1)return;u.dish&&i(c=>c.filter(o=>o!==u.dish));let f=r.dishes.filter((c,o)=>o!==h);for(let c=0;c<f.length;c++)d.setFieldsValue({["dish_"+c]:f[c].dish||null,["number_"+c]:f[c].number||1});s(c=>({...c,dishes:f}))},M=(u,h)=>{let f=[],c=[];for(let o=0;o<n.length;o++)h["dish_"+o]&&f.push(h["dish_"+o]),r.dishes[o]&&c.push({dish:h["dish_"+o],number:h["number_"+o]});i(f),s(o=>({...o,dishes:c}))};return m.useEffect(()=>{l(q(w,r.meal,r.restaurant).map(u=>({value:u,label:u}))),i(r.dishes.map(u=>u.dish)),r.dishes.length===0&&(s(u=>({...u,dishes:[{dish:"",number:1}]})),d.setFieldsValue({dish_0:null,number_0:1}));for(let u=0;u<r.dishes.length;u++)d.setFieldsValue({["dish_"+u]:r.dishes[u].dish||null,["number_"+u]:r.dishes[u].number||1})},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-dish",children:[e.jsx("div",{className:"number-tag",children:e.jsx(y,{title:"The total number of dishes (i.e Number of dishes * respective serving) should be greater or equal to the number of people selected in Step 1 and a maximum of 10 is allowed.",children:e.jsx(I,{color:"blue",children:`Current Meal: ${r.meal}, Number: ${r.number}`})})}),e.jsxs(p,{form:d,layout:"inline",name:"selectDishForm",onValuesChange:M,children:[r.dishes.map((u,h)=>e.jsx(p.Item,{label:"Please Select A Dish And No. of Servings",required:!0,children:e.jsxs(T.Group,{compact:!0,children:[e.jsx(p.Item,{name:"dish_"+h,noStyle:!0,children:e.jsx(N,{showSearch:!0,placeholder:"Select A Dish",style:{width:270},options:n.map(f=>({...f,disabled:t.includes(f.value)}))})}),e.jsx(p.Item,{name:"number_"+h,noStyle:!0,children:e.jsx(B,{min:1,max:10,placeholder:"No. of servings",style:{width:70}})}),e.jsx(y,{title:"Remove This Dish",children:e.jsx(S,{icon:e.jsx(k,{}),disabled:r.dishes.length===1,onClick:()=>x(u,h)})})]})},R())),e.jsx(S,{icon:e.jsx(_,{}),disabled:r.dishes.length>=n.length,onClick:b,children:"Add"})]})]})})}function X(a){const{orderForm:r}=a;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"confirm-order",children:e.jsxs(j,{column:1,size:"middle",bordered:!0,title:"Preview Order Info",style:{width:"800px"},children:[e.jsx(j.Item,{label:"Meal",children:r.meal}),e.jsx(j.Item,{label:"Number of People",children:r.number}),e.jsx(j.Item,{label:"Restaurant",children:r.restaurant}),e.jsx(j.Item,{label:"Dishes",children:r.dishes.map(s=>s.dish&&s.number&&e.jsxs("div",{children:[e.jsx("span",{children:s.dish}),e.jsx("span",{children:" - "}),e.jsx("span",{children:s.number})]},R()))})]})})})}function Z(a){const{openTourModal:r,handleTourModalOk:s}=a;return e.jsx(P,{closable:!1,centered:!0,title:"Food Order System",open:r,footer:[e.jsx(S,{type:"primary",size:"middle",onClick:s,children:"Get It"},"ok")],children:e.jsx("p",{children:"This is a food ordering system for restaurants. You can choose the number of people, the restaurant, and the dishes you want to order. After you finish the order, you can submit it and wait for the restaurant to serve you."})})}function ee(a){const{openTour:r,setOpenTour:s,tourRef1:n,tourRef2:l,tourRef3:t,tourRef4:i}=a,d=[{title:"Order Steps",description:"Please follow the 4 steps to place an order",target:()=>n.current},{title:"Fill Info",description:"You can fill order info in the area",target:()=>l.current},{title:"Next, Previous",description:"You can click next or previous button to navigate between steps",target:()=>t.current},{title:"Source Code",description:"You can click the button to view source code on GitHub",target:()=>i.current}];return e.jsx(z,{open:r,onClose:()=>s(!1),steps:d})}const re="https://github.com/33YANG/react_assignment",O=3,se=10;function ae(){const[a,r]=m.useState(0),[s,n]=m.useState(!1),[l,t]=m.useState(!1),[i,d]=m.useState({meal:"lunch",number:1,restaurant:"",dishes:[]}),b=m.useRef(null),x=m.useRef(null),M=m.useRef(null),u=m.useRef(null),h=()=>{a>0&&r(a-1)},f=()=>{if(localStorage.setItem("orderForm",JSON.stringify(i)),localStorage.setItem("currentProgress",a+1+""),a===1){if(!i.restaurant){D.warning({content:"Please select a restaurant before proceeding to the next step."});return}}else if(a===2){let o=0;for(const g of i.dishes)g.dish&&g.number&&(o+=g.number);if(o===0){D.warning({content:"Please select any dishes before proceeding to the next step."});return}else if(o<i.number){P.warning({title:`Not enough dishes for ${i.number} people`,content:"Please select more dishes.",okText:"OK"});return}else if(o>se){P.warning({title:"Too many dishes",content:"Please select less than 10 dishes.",okText:"OK"});return}}else if(a===O){P.success({title:"Order Submitted",content:"Your order has been submitted successfully, please wait for serving.",okText:"OK"});const o={...i,dishes:i.dishes.filter(g=>g.dish&&g.number)};console.log("%c--------------------------- Order Info Here ---------------------------","color: #1677ff"),console.table(o,["meal","number","restaurant","dishes"]),console.table(o.dishes,["dish","number"]),console.log(JSON.stringify(o,null,2)),localStorage.removeItem("orderForm"),localStorage.removeItem("currentProgress")}a<O&&r(a+1)},c=()=>{const o=window.innerWidth>768?"pc":"mobile";t(!1),n(o==="pc")};return m.useEffect(()=>{const o=localStorage.getItem("orderForm");o&&d(JSON.parse(o));const g=localStorage.getItem("currentProgress");g&&r(parseInt(g));const F=!!localStorage.getItem("viewedPage");console.log("[ viewedPage ]",F),t(!F),localStorage.setItem("viewedPage","true")},[]),e.jsx(V,{locale:E,children:e.jsxs("main",{className:"main-area",children:[e.jsxs("section",{className:"top-area",children:[e.jsx("div",{className:"home-bg"}),e.jsx("h1",{className:"title",children:"The Best Restaurant Food Order System"}),e.jsx(A,{className:"mobile-divider"})]}),e.jsxs("section",{className:"content",children:[e.jsx(W,{currentProgress:a,orderForm:i,setOrderForm:d,tourRef1:b,tourRef2:x}),e.jsx("div",{className:"progress-btn",children:e.jsx("span",{ref:M,children:e.jsxs(G,{size:"middle",children:[a===0||e.jsx(S,{onClick:h,children:"Previous"}),e.jsx(S,{type:"primary",onClick:f,children:a===O?"Done":"Next"})]})})})]}),e.jsx(Z,{openTourModal:l,handleTourModalOk:c}),e.jsx(ee,{openTour:s,setOpenTour:n,tourRef1:b,tourRef2:x,tourRef3:M,tourRef4:u}),e.jsx(H,{ref:u,className:"github-icon",onClick:()=>window.open(re,"_target")})]})})}L.createRoot(document.getElementById("root")).render(e.jsx(ae,{}));
